<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Massachusetts Baby Name Generator">
  <link rel="icon" href="../../favicon.ico">
  <meta name="robots" content="noindex">
  <title>Massachusetts Baby Name Generator</title>
  <link href="styles.css?foo=1234555" rel="stylesheet">
</head>

<body>
  <div class="hero">
    <div class="hero-text">
      <div class="row">
        <div class="col-md-12">
        </div>
      </div>
    </div>
  </div>
  <div class="main-container">
    <div class="intro">
      <p class="lead">Massachusetts Baby Name Generator</p>
      <p>Are you a wicked townie? Are you expecting a little bundle of joy? Have no idea what to name them?</p>
      <p><b>You've come to the right place!</b></p>
      <div class="generator-form">
        <div class="last-name-input">
          <label for="familyName">LAST NAME</label>
          <input id="familyName" type="text" value="" placeholder="eg Brady">
        </div>
        <div>
          <div id="generate">
            Name the Baby!
          </div>
        </div>
      </div>

      <div id="output">
        <p>Dottie Coolata</p>
      </div>
    </div>
    <!-- <footer>
      <p class="attribution">"<a target="_blank" rel="noopener noreferrer"
          href="https://www.flickr.com/photos/87542849@N00/5151755483">Make Way for Ducklings Statue</a>" by <a
          target="_blank" rel="noopener noreferrer" href="https://www.flickr.com/photos/87542849@N00">kimberlykv</a> is
        licensed under <a target="_blank" rel="noopener noreferrer"
          href="https://creativecommons.org/licenses/by/2.0/?ref=openverse">CC BY 2.0 <img
            src="https://mirrors.creativecommons.org/presskit/icons/cc.svg"
            style="height: 1em; margin-right: 0.125em; display: inline;"></img><img
            src="https://mirrors.creativecommons.org/presskit/icons/by.svg"
            style="height: 1em; margin-right: 0.125em; display: inline;"></img></a>. </p>
    </footer> -->
  </div>
  <script src="local.js"></script>
  <script src="places.js"></script>
  <script src="mass.js"></script>
  <script>
    const button = document.getElementById('generate');
    const prepopulateName = window.location.hash.split('=')[1];

    if (prepopulateName && prepopulateName.length) {
      document.getElementById('familyName').value = prepopulateName;
      const initialOutput = document.getElementById('output');
      initialOutput.innerHTML += ` ${prepopulateName}`;  
    }

    button.addEventListener('click', () => {
      let babyName = '';
      const localName = [...local];
      const placeName = [...places];
      // const fodder = [...local, ...places];
      // const fodder = [...mass];
      let firstName = localName[Math.floor(Math.random() * localName.length)];
      let middleName = placeName[Math.floor(Math.random() * placeName.length)];
      let familyName = document.getElementById('familyName').value;

      if (firstName.split(' ').length > 1) {
        // firstName = firstName.split(' ');
        // firstName = firstName[Math.floor(Math.random() * firstName.length)];
        babyName = `${firstName} ${familyName ? familyName : ''}`;
      } else if (middleName.split(' ').length > 1) {
        // middleName = middleName.split(' ');
        // middleName = middleName[Math.floor(Math.random() * middleName.length)];
        babyName = `${middleName} ${familyName ? familyName : ''}`;
      } else {
        babyName = `${firstName} ${middleName} ${familyName ? familyName : ''}`;
      }

      // babyName = `${firstName} ${middleName} ${familyName ? familyName : ''}`;

      const output = document.getElementById('output');
      output.innerHTML = babyName;
    });
  </script>
</body>
</html>